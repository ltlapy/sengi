<div class="panel">
    <h3 class="panel__title">설정</h3>

    <!-- <select name="notification-sound" class="form-control" [(ngModel)]="branch.PhysicalProvince">
        <option *ngFor="let p of branchService.provinces" [value]="p">{{p}}</option>
    </select> -->

    <div class="content flexcroll">
        <h4 class="panel__subtitle">알림</h4>
        <div class="sub-section">
            <input class="sub-section__checkbox" [(ngModel)]="disableAutofocusEnabled"
                (change)="onDisableAutofocusChanged()" type="checkbox" name="disableAutofocus" value="disableAutofocus"
                id="disableAutofocus">
            <label class="noselect sub-section__label" for="disableAutofocus">계정 패널에 오토포커스 비활성화</label>
            <br>

            <input class="sub-section__checkbox" [(ngModel)]="disableAvatarNotificationsEnabled"
                (change)="onDisableAvatarNotificationsChanged()" type="checkbox" name="disableAvatarNotifications"
                value="disableAvatarNotifications" id="disableAvatarNotifications">
            <label class="noselect sub-section__label" for="disableAvatarNotifications">모든 계정의 알림 끄기</label>
            <br>

            <input class="sub-section__checkbox" [(ngModel)]="disableSoundsEnabled"
                (change)="onDisableSoundsEnabledChanged()" type="checkbox" name="disableSounds" value="disableSounds"
                id="disableSounds">
            <label class="noselect sub-section__label" for="disableSounds">음소거</label>
            <br>

            <span class="sub-section__title">알림 소리:</span><br />
            <form [formGroup]="notificationForm">
                <select formControlName="countryControl" (change)="onChange($event.target.value)" class="sound__select">
                    <option [value]="s.id" *ngFor="let s of notificationSounds"> {{s.name}}</option>
                </select>
            </form>
            <a href class="form-button sound__play" type="submit" (click)="playNotificationSound()">듣기</a>
        </div>
        
        <h4 class="panel__subtitle">단축키</h4>
        <div class="sub-section">
            <span class="sub-section__title">컬럼 이동:</span><br />

            <input class="sub-section__checkbox" [checked]="columnShortcutEnabled === 1" (change)="onShortcutChange(1)"
                type="radio" name="column-ctrl" value="column-ctrl" id="column-ctrl">
            <label class="noselect sub-section__label" for="column-ctrl">Ctrl + Left | Ctrl + Right</label>
            <br>

            <input class="sub-section__checkbox" [checked]="columnShortcutEnabled === 2" (change)="onShortcutChange(2)"
                type="radio" name="colmun-win" value="colmun-win" id="colmun-win">
            <label class="noselect sub-section__label" for="colmun-win">Win + Alt + Left | Win + Alt + Right</label>
            <br>
        </div>

        <h4 class="panel__subtitle">Twitter 브릿지</h4>
        <div class="sub-section">
            <input class="sub-section__checkbox" [(ngModel)]="twitterBridgeEnabled"
            (change)="onTwitterBridgeEnabledChanged()" type="checkbox" name="onTwitterBridgeEnabled"
            value="onTwitterBridgeEnabled" id="onTwitterBridgeEnabled">
            <label class="noselect sub-section__label" for="onTwitterBridgeEnabled">브릿지 활성화</label>
            <br>
            <div *ngIf="twitterBridgeEnabled">
                <p>브릿지 인스턴스 주소를 입력해 주세요:
                <input type="text" class="form-control form-control-sm sub_section__text-input"
                [(ngModel)]="setTwitterBridgeInstance" placeholder="bridge.tld" />
                아는 브릿지 인스턴스가 없다면 <a href="https://github.com/NicolasConstant/BirdsiteLive" target="_blank" class="version__link">BirdsiteLIVE</a>를 이용해 보세요</p>
            </div>
            <div>
                <a href="https://github.com/NicolasConstant/sengi/wiki/BirdsiteLIVE-integration" target="_blank" class="version__link">Twitter 브릿지에 대한 도움말</a>
            </div>
        </div>

        <h4 class="panel__subtitle">열람주의 규칙</h4>
        <div class="sub-section">
            <span class="sub-section__title">모든 게시물에 대해:</span><br />
            <input class="sub-section__checkbox" [checked]="contentWarningPolicy === 1" (change)="onCwPolicyChange(1)"
                type="radio" name="cw-none" value="cw-none" id="cw-none">
            <label class="noselect sub-section__label" for="cw-none">없음</label>
            <br>

            <input class="sub-section__checkbox" [checked]="contentWarningPolicy === 2" (change)="onCwPolicyChange(2)"
                type="radio" name="cw-hide-all" value="cw-hide-all" id="cw-hide-all">
            <label class="noselect sub-section__label" for="cw-hide-all">모든 열람주의 게시물 열기</label>
            <br>
            <div class="sub-section__cw-settings" *ngIf="contentWarningPolicy === 2">
                <span class="sub-section__title">예외 키워드:</span><br />
                <div class="sub-text-input">
                    <input type="text" class="form-control form-control-sm sub_section__text-input"
                        [(ngModel)]="setAddCwOnContent" placeholder="세미콜론(;)으로 구분하여 입력" />
                </div>
            </div>

            <input class="sub-section__checkbox" [checked]="contentWarningPolicy === 3" (change)="onCwPolicyChange(3)"
                type="radio" name="cw-add-on-all" value="cw-add-on-all" id="cw-add-on-all">
            <label class="noselect sub-section__label" for="cw-add-on-all">모든 게시물을 열람주의로 표시하기</label>
            <br>
            <div class="sub-section__cw-settings" *ngIf="contentWarningPolicy === 3">
                <span class="sub-section__title">예외 키워드:</span><br />
                <div class="sub-text-input">
                    <input type="text" class="form-control form-control-sm sub_section__text-input"
                        [(ngModel)]="setRemoveCwOnContent" placeholder="세미콜론(;)으로 구분하여 입력" />
                </div>
            </div>

            <span class="sub-section__title">다음 내용을 포함하는 게시물 숨기기:</span><br />
            <div class="sub-text-input">
                <input type="text" class="form-control form-control-sm sub_section__text-input"
                    [(ngModel)]="setContentHidedCompletely" placeholder="세미콜론(;)으로 구분하여 입력" />
            </div>
        </div>

        <h4 class="panel__subtitle">타임라인</h4>
        <div class="sub-section">
            <span class="sub-section__title">컬럼 제목:</span><br />
            <input class="sub-section__checkbox" [checked]="timeLineHeader === 1" (change)="onTimeLineHeaderChange(1)"
                type="radio" name="timelineheader-1" value="timelineheader-1" id="timelineheader-1">
            <label class="noselect sub-section__label" for="timelineheader-1">제목 - 도메인 주소</label>
            <br>

            <input class="sub-section__checkbox" [checked]="timeLineHeader === 2" (change)="onTimeLineHeaderChange(2)"
                type="radio" name="timelineheader-2" value="timelineheader-2" id="timelineheader-2">
            <label class="noselect sub-section__label" for="timelineheader-2">제목 - 사용자명 - 도메인 주소</label>
            <br>

            <input class="sub-section__checkbox" [checked]="timeLineHeader === 3" (change)="onTimeLineHeaderChange(3)"
                type="radio" name="timelineheader-3" value="timelineheader-3" id="timelineheader-3">
            <label class="noselect sub-section__label" for="timelineheader-3">제목 - 프로필 사진 - 도메인 주소</label>
            <br>

            <input class="sub-section__checkbox" [checked]="timeLineHeader === 4" (change)="onTimeLineHeaderChange(4)"
                type="radio" name="timelineheader-4" value="timelineheader-4" id="timelineheader-4">
            <label class="noselect sub-section__label" for="timelineheader-4">제목 - 프로필 사진</label>
            <br>

            <input class="sub-section__checkbox" [checked]="timeLineHeader === 5" (change)="onTimeLineHeaderChange(5)"
                type="radio" name="timelineheader-5" value="timelineheader-5" id="timelineheader-5">
            <label class="noselect sub-section__label" for="timelineheader-5">제목</label>
            <br>

            <span class="sub-section__title">새 게시물 불러오기:</span><br />

            <input class="sub-section__checkbox" [checked]="timeLineMode === 1" (change)="onTimeLineModeChange(1)"
                type="radio" name="timelinemode-1" value="timelinemode-1" id="timelinemode-1">
            <label class="noselect sub-section__label" for="timelinemode-1">최상단일 때에만 불러오기</label>
            <br>

            <input class="sub-section__checkbox" [checked]="timeLineMode === 2" (change)="onTimeLineModeChange(2)"
                type="radio" name="timelinemode-2" value="timelinemode-2" id="timelinemode-2">
            <label class="noselect sub-section__label" for="timelinemode-2">항상 불러오기</label>
            <br>

            <input class="sub-section__checkbox" [checked]="timeLineMode === 3" (change)="onTimeLineModeChange(3)"
                type="radio" name="timelinemode-3" value="timelinemode-3" id="timelinemode-3">
            <label class="noselect sub-section__label" for="timelinemode-3">수동으로 불러오기</label>
            <br>
        </div>

        <div *ngIf="hasPleromaAccount">
            <h4 class="panel__subtitle">플레로마</h4>
            <div class="sub-section">
                <input class="sub-section__checkbox" [(ngModel)]="autoFollowOnListEnabled"
                    (change)="onAutoFollowOnListChanged()" type="checkbox" name="onAutoFollowOnListChanged"
                    value="onAutoFollowOnListChanged" id="onAutoFollowOnListChanged">
                <label class="noselect sub-section__label" for="onAutoFollowOnListChanged">리스트에 유저를 추가할 때
                    자동으로 팔로우하기</label>
                <br>
            </div>
        </div>

        <h4 class="panel__subtitle">기타</h4>
        <div class="sub-section">
            <input class="sub-section__checkbox" [(ngModel)]="disableRemoteStatusFetchingEnabled"
                (change)="onDisableRemoteStatusFetchingChanged()" type="checkbox" name="disableRemoteFetching"
                value="disableRemoteFetching" id="disableRemoteFetching">
            <label class="noselect sub-section__label" for="disableRemoteFetching">리모트 게시물을 가져오지 않기</label>
            <br>
        </div>

        <h4 class="panel__subtitle">Sengi 정보</h4>
        <p class="version">
            Sengi 버전: {{version}}<br />
            <a href class="version__link" (click)="openTutorial()">튜토리얼 열기</a><br />
            <a href="assets/docs/privacy.html" class="version__link" target="_blank">개인정보 보호 정책</a><br />
            <a href class="version__link" (click)="checkForUpdates()">업데이트 확인</a>
            <app-waiting-animation *ngIf="isCheckingUpdates" class="waiting-icon"></app-waiting-animation>
        </p>


        <h4 class="panel__subtitle">초기화</h4>
        <div class="sub-section">
            <p>
                문제가 발생하였거나 Sengi의 모든 데이터를 삭제하려면, 아래 버튼을 눌러서 데이터를 초기화할 수 있습니다.
            </p>
            <a *ngIf="!isCleanningAll" class="sengi-btn sengi-btn__red" href (click)="startClearAllLocalData()">
                로컬 데이터를 모두 삭제
            </a>
            
            <a *ngIf="isCleanningAll" class="sengi-btn sengi-btn__red sengi-btn__medium" href
                (click)="confirmClearAll()">
                정말로 삭제하기
            </a>
            <a *ngIf="isCleanningAll" class="sengi-btn sengi-btn__blue sengi-btn__medium" href
                (click)="cancelClearAll()">
                취소
            </a>
            <br />
        </div>

    </div>
</div>